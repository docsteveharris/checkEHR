{% extends 'base.html' %}

{% block content %}
<div class="jumbotron jumbotron-fluid">
    <h5>Collaborative validation of Electronic Healthcare Record data</h5>
</div>

<table id='id_list_table' class='table table-striped table-hover'>
    <caption>List of fields in database</caption>
    <thead class='thead-dark'>
        <tr>
            <th scope="col">id</th>
            <th scope="col">Short hand</th>
            <th scope="col">SNOMED</th>
        </tr>
    </thead>
    <tbody>
        
    {% for doc in g.docs %}
        {% set element_url = "'http://127.0.0.1:5000/element/{}'".format(doc['id']) %}
        <tr scope="row"
            {# make row clickable #}
            {# https://stackoverflow.com/q/30482050 #}
            style="cursor: pointer"
            onclick="window.location.href = 
                {{ element_url }};"
        >
            <td>{{ doc['id'] }}</td>
            <td>{{ doc['doc']['labels']['human'] }}</td>
            <td>{{ doc['doc']['labels']['snomed'] }}</td>
        </tr>
    {% endfor %}

    </tbody>
</table>
{% endblock %}
